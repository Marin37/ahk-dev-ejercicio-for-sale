{{#layout}}

    <h1>Formulario para Inmueble</h1>
    <form id="form_inmueble" action="/inmuebles/none" method="post">

        <select id="select_tipo_inmueble" onchange="handlerCambioTipoInmueble()">
            <option value="seleccionar">Seleccionar...</option>
            <option value="casa">Casa</option>
            <option value="ph">PH</option>
            <option value="depto">Depto</option>
        </select>

        <div>
            <!--  ATRIBUTOS DE INMUEBLE  -->
            <input name="cantAmbientes" placeholder="Cant. de ambientes">
            <input name="tamanioEnM2" placeholder="TamaÃ±o (m2)">

            <!--  ATRIBUTOS DE CASA  -->
            <input id="precio_casa" name="precio" placeholder="Precio" style="display: none;">
        </div>

            <!--  ATRIBUTOS DE INMUEBLE  -->
            <label for="cantAmbientes">Cantidad de ambientes</label>
            <input type="number" id="cantAmbientes" placeholder="Cantidad de ambientes..." name="cantAmbientes" required>

            <label for="tamanioM2">Tamanio en metros cuadrados</label>
            <input type="number" id="tamanioM2" name="tamanioM2" placeholder="Tamanio en m2..." step="0.1" required>

            <!--  ATRIBUTOS DE CASA  -->
            <label for="precio_casa">Precio</label>
            <input type="number" id="precio_casa" name="precio_casa"
                   placeholder="" step="100" required>

            <button id="submit" type="submit">Guardar</button>

    </form>
    <script type="text/javascript">

        // se llama dentro del OnChange
        function handlerCambiarTipoInmueble() {
            cambiarEndpoint(); // la ruta correspondiente
            mostrarCamposEspecificos();
        }

        // TODO esto es un ejemplo, acomodar endpoint al back
        function cambiarEndpoint() {
			const valorTipoInmueble = document.getElementById("select_tipo_inmueble").value;

			if(valorTipoInmueble === "casa") {
				document.getElementById("form_inmuebles").action = "/inmuebles/casa/guardar";
			}
			else if (valorTipoInmueble === "ph") {
				document.getElementById("form_inmuebles").action = "/inmuebles/ph/guardar";
			}
			else {
				document.getElementById("form_inmuebles").action = "/inmuebles/depto/guardar";
			}
		}

        function mostrarCamposEspecificos() {
			const valorTipoInmueble = document
			    .getElementById("select_tipo_inmueble").value;

			if(valorTipoInmueble === "casa") {
				document.getElementById("precio_casa")
				.style.display = "";
			}
			else {
				document.getElementById("precio_casa")
				.style.display = "none";
			}
		}
    </script>
{{/layout}}
{{>common/layout}}